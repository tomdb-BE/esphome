substitutions:
  ha_name: Garage
  ha_id: hagaga1test
  dev_name: hagaga1test

  dev_platform: ESP32
  dev_board: esp32doit-devkit-v1

  wifi_ssid: !secret wifi_name
  wifi_pw: !secret wifi_password
  wifi_fallback_pw: !secret wifi_fallback_password
  wifi_dom: !secret wifi_domain
  api_pw: !secret api_password
  ota_pw: !secret ota_password
esphome:
  name: ${dev_name}

esp32:
  board: ${dev_board}
  framework:
    type: esp-idf
    platform_version: 6.4.0
    version: 5.1.1    

external_components:
  - source:
      type: local
      path: my_components

# WiFi connection
wifi:
  ssid: ${wifi_ssid}
  password: ${wifi_pw}
  domain: ${wifi_dom}
  fast_connect: true
  ap:
    ssid: ${dev_name}
    password: ${wifi_fallback_pw}

# Enable logging
logger:
  level: DEBUG

# Enable Home Assistant API
api:
  encryption:
    key: ${api_pw}

# Enable over-the-air updates
ota:
  password: ${ota_pw}

# Enable Web server
web_server:
  port: 80


light:    
- platform: esp32_spi_led_strip_v5
  id: ${ha_id}_neopixel_1
  name: ledstrip 1
  internal: False
  rgb_order : GRB
  chipset: WS2812
  pin: GPIO19
  num_leds: 150
  effects: addressable_rainbow  
  restore_mode: ALWAYS_ON
  on_turn_on:
  - light.turn_on:
      id: ${ha_id}_neopixel_1
      red: 0
      green: 0
      blue: 1